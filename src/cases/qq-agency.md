---
lang: ru-RU
title: Кейс. Агентство QQ
description: Как мы автоматизировали рабочие процессы в нашем агентстве
---

# Агентство QQ

Битрикс24 стал нашим основным рабочим инструментом.

Чтобы работать было комфортнее, решили автоматизировать рабочие процессы: часть с помощью штатного функционала, часть — написали сами.

**Клиент:** Наше агентство

**Задача:** Автоматизировать бизнес-процессы и упростить работу там, где это возможно.

**Редакция 1С-Битрикс:** 1С-Битрикс24: Корпоративный портал 50

## Система контроля версий

В качестве трекера задач мы раньше использовали YouTrack, в котором была тесная интеграция с программами разработки и системой контроля версий.

Нам очень не хватало ее в [Битрикс24](https://www.bitrix24.ru/?p=288148) и после миграции в сервис, мы добавили недостающие хотелки самостоятельно.

Для начала связали задачи и систему контроля версий.

В системе контроля версий коммиты пишутся с указанием номера задачи и автоматически прикрепляются к задаче с указанием кто автор, когда был сделан коммит, краткое описание и ссылка на GitHub.

![](/images/qq-agency/1.png)

Связывание происходит на веб-хуках, но периодически запускается робот, который обходит все непривязанные коммиты и при необходимости прикрепляет к задачам.

Пользователи сопоставляются по электронной почте в коммите и на портале.

![](/images/qq-agency/2.png)

Таким образом из коммита всегда понятно какую задачу решал программист, а в задаче видно хронологию изменения кодовой базы.

## Управление доступами

Контроль доступов — важная задача для каждой компании, особенно, когда отвечать необходимо не только за свои ресурсы, но и клиентские.

Управление сотрудниками централизованное на внутреннем веб-сервисе: пригласить пользователя в чат, создать корпоративную электронную почту или дать доступ к VPN — можно в одном месте.

![](/images/qq-agency/3.png)

Для контроля и разграничения ssh-доступа, мы используем клиента на Go (сейчас переделываем технологию на Ansible), который смотрит какой сотрудник к какому серверу имеет доступ и добавляет пользователя с его ssh-ключом на сервер или удаляет его, если доступ отозвали.

![](/images/qq-agency/4.png)

С внедрением автоматизации меньше тратится время на управление внутренними- и аутсорс-командами.

## Автоматизация закупок

Порадовав разработчиков, решили порадовать отдел продаж.

Мы стали интересоваться гос. закупками и мы настроили сценарий для работы с ними:

Робот периодически обрабатывает сайт гос. закупок на наличие интересующих нас заявок, если появляется новая — заносит ее в CRM.

![](/images/qq-agency/5.png)

Менеджер проверяет заявку и если она заинтересовала переводит ее в статус "Согласование с 1С-Битрикс".

Этот этап необходим для согласования рекомендованной розничной цены для закупки.

При переходе заявки в этот статус, в 1С-Битрикс автоматически отправляется письмо с просьбой согласовать цену, с указанием ссылки на закупку и другими необходимыми данными.

![](/images/qq-agency/6.png)

К следующему этапу без заполнения поля "Согласованная цена" перейти нельзя.

![](/images/qq-agency/7.png)

Если получится автоматизировать еще и процесс подачи заявки – торговать будут только роботы, но мы пока не готовы передать это машинам  :)

## Интеграция с банком

Расчетный счет открыт в Тинькофф Банке, интеграция с которым была написана уже давно — [saundefined/tinkoff-sdk](https://github.com/saundefined/tinkoff-sdk).

По расписанию робот получает выписку из банка и заносит платежи в базу данных на портале.

При добавлении нового платежа, в [Битрикс24](https://www.bitrix24.ru/?p=288148) ищется счет по ИНН плательщика и сумме, если счет найден — он помечается оплаченным.

![](/images/qq-agency/8.png)

Бывает, что счета оплачивают частями или наоборот в одном платеже указывают несколько счетов — в этом случае ответственному менеджеру придет уведомление на телефон.

![](/images/qq-agency/9.png)

Можно быстро отфильтровать данные по плательщику или по дате, а также сохранить часто используемые фильтры.

![](/images/qq-agency/10.png)

На рабочей панели выводится сводная статистика по счету

![](/images/qq-agency/11.png)